document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("sidebar"),L=document.getElementById("hamburgerBtn"),p=document.getElementById("settingsBtn"),y=document.getElementById("settingsSubmenu"),r=document.querySelectorAll(".theme-toggle__item"),v=document.body,i=document.documentElement;L.addEventListener("click",()=>{l.classList.toggle("w-64"),l.classList.toggle("w-16"),v.classList.toggle("sidebar--collapsed"),document.querySelectorAll(".hide-on-collapse").forEach(e=>e.classList.toggle("hidden"))}),p.addEventListener("click",()=>y.classList.toggle("hidden")),document.querySelectorAll(".sidebar-toggle").forEach(e=>{e.addEventListener("click",()=>l.classList.toggle("hidden"))});const d=document.querySelector(".filter-dropdown__button"),n=document.querySelector(".filter-dropdown__menu");d&&n&&(d.addEventListener("click",e=>{e.stopPropagation(),n.classList.toggle("hidden")}),n.querySelectorAll(".cursor-pointer").forEach(e=>{e.addEventListener("click",()=>{n.classList.add("hidden")})}),document.addEventListener("click",e=>{!n.contains(e.target)&&!d.contains(e.target)&&n.classList.add("hidden")}));const u=e=>{i.classList.remove("light","dark"),i.classList.add(e),localStorage.setItem("theme",e),r.forEach(t=>{t.classList.toggle("theme-toggle__active",t.getAttribute("data-toggle")===e),t.classList.toggle("shadow-lg",t.getAttribute("data-toggle")===e),t.classList.toggle("bg-secondary",t.getAttribute("data-toggle")===e)})};u(localStorage.getItem("theme")||"light"),r.forEach(e=>{e.addEventListener("click",()=>u(e.getAttribute("data-toggle")))});const g=document.querySelectorAll(".player-box");g.length>0&&g.forEach(e=>{const t=e.querySelector(".play-icon"),m=e.querySelector(".waveform"),o=e.querySelector(".play-btn"),s=e.querySelector(".pause-btn");if(!t||!m||!o||!s)return;const a=WaveSurfer.create({container:m,waveColor:"#0A574E",progressColor:"#14B8A6",height:30,responsive:!0,url:"/audio/1.mp3"});let c=!1;t.addEventListener("click",()=>{c?(a.pause(),o.classList.remove("hidden"),s.classList.add("hidden")):(a.play(),o.classList.add("hidden"),s.classList.remove("hidden")),c=!c}),a.on("finish",()=>{c=!1,o.classList.remove("hidden"),s.classList.add("hidden")})});const h=document.getElementById("changePicture");h&&(h.addEventListener("click",function(){document.querySelector(".change-picture-popup").classList.remove("hidden"),document.querySelector(".popup-overlay").classList.remove("hidden")}),document.querySelector(".popup-overlay").addEventListener("click",function(){document.querySelector(".change-picture-popup").classList.add("hidden"),document.querySelector(".popup-overlay").classList.add("hidden")})),document.querySelectorAll(".faq-toggle").forEach(e=>{e.addEventListener("click",()=>{const t=e.nextElementSibling;e.querySelector(".faq-icon i"),t.classList.toggle("hidden"),e.classList.toggle("faq-toggle--active")})})});

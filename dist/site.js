document.addEventListener("DOMContentLoaded",()=>{const l=document.getElementById("sidebar"),p=document.getElementById("hamburgerBtn"),y=document.getElementById("settingsBtn"),f=document.getElementById("settingsSubmenu"),r=document.querySelectorAll(".theme-toggle__item"),v=document.body,u=document.documentElement;p.addEventListener("click",()=>{l.classList.toggle("w-64"),l.classList.toggle("w-16"),v.classList.toggle("sidebar--collapsed"),document.querySelectorAll(".hide-on-collapse").forEach(e=>e.classList.toggle("hidden"))}),y.addEventListener("click",()=>f.classList.toggle("hidden")),document.querySelectorAll(".sidebar-toggle").forEach(e=>{e.addEventListener("click",()=>l.classList.toggle("hidden"))});const a=document.querySelector(".filter-dropdown__button"),o=document.querySelector(".filter-dropdown__menu");a&&o&&(a.addEventListener("click",e=>{e.stopPropagation(),o.classList.toggle("hidden")}),o.querySelectorAll(".cursor-pointer").forEach(e=>{e.addEventListener("click",()=>{o.classList.add("hidden")})}),document.addEventListener("click",e=>{!o.contains(e.target)&&!a.contains(e.target)&&o.classList.add("hidden")}));const g=e=>{u.classList.remove("light","dark"),u.classList.add(e),localStorage.setItem("theme",e),r.forEach(t=>{t.classList.toggle("theme-toggle__active",t.getAttribute("data-toggle")===e),t.classList.toggle("shadow-lg",t.getAttribute("data-toggle")===e),t.classList.toggle("bg-secondary",t.getAttribute("data-toggle")===e)})};g(localStorage.getItem("theme")||"light"),r.forEach(e=>{e.addEventListener("click",()=>g(e.getAttribute("data-toggle")))});const h=document.querySelectorAll(".player-box");h.length>0&&h.forEach(e=>{const t=e.querySelector(".play-icon"),c=e.querySelector(".waveform"),s=e.querySelector(".play-btn"),n=e.querySelector(".pause-btn");if(!t||!c||!s||!n)return;const i=WaveSurfer.create({container:c,waveColor:"#0A574E",progressColor:"#14B8A6",height:30,responsive:!0,url:"audio/1.mp3"});let d=!1;t.addEventListener("click",()=>{d?(i.pause(),s.classList.remove("hidden"),n.classList.add("hidden")):(i.play(),s.classList.add("hidden"),n.classList.remove("hidden")),d=!d}),i.on("finish",()=>{d=!1,s.classList.remove("hidden"),n.classList.add("hidden")})});const m=document.getElementById("changePicture");m&&(m.addEventListener("click",function(){document.querySelector(".change-picture-popup").classList.remove("hidden"),document.querySelector(".popup-overlay").classList.remove("hidden")}),document.querySelector(".popup-overlay").addEventListener("click",function(){document.querySelector(".change-picture-popup").classList.add("hidden"),document.querySelector(".popup-overlay").classList.add("hidden")})),document.querySelectorAll(".faq-toggle").forEach(e=>{e.addEventListener("click",()=>{const t=e.nextElementSibling;e.querySelector(".faq-icon i"),t.classList.toggle("hidden"),e.classList.toggle("faq-toggle--active")})});const L=document.querySelectorAll(".play-recording-btn");L.length>0&&L.forEach(e=>{const t=e.querySelector("audio"),c=e.querySelector(".play-icon"),s=e.querySelector(".pause-icon");let n=!1;!t||!c||!s||(e.addEventListener("click",()=>{n?(t.pause(),c.classList.remove("hidden"),s.classList.add("hidden")):(t.play(),c.classList.add("hidden"),s.classList.remove("hidden")),n=!n}),t.addEventListener("ended",()=>{n=!1,c.classList.remove("hidden"),s.classList.add("hidden")}))})});
